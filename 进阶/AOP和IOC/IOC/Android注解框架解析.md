# Android注解框架解析

### 参考链接

* [**【Android】注解框架（二）--  基础知识（Java注解）& 运行时注解框架**](https://www.jianshu.com/p/24514df3a932)

## 一、基础知识

### 1.1 定义

* 注解是 JDK5 之后的新特性，是一种特殊的注释，它为我们在代码中添加信息提供了一种形式上的方法，使我们可以在稍后某个时候非常方便的使用这些数据。

### 1.2 内置注解

#### 1.2.1 @Override

* 表示当前方法覆盖超类中的方法。如果你所写的方法和超类中的方法不同的话，编译器会报错。主要用于检查。

#### 1.2.2 @Deprecated

* 表明当前的元素已经不适用或者过时了。当使用了注解为`@Deprecated`的元素时，编译器会报出警告。

#### 1.2.3 @SuppressWarnings

* 关闭不当的编译器警告

### 1.3 自定义注解

#### 1.3.1 元注解

##### @Target

* 表明当前注解可以使用在哪种元素上
  * `CONSTRUCTOR` 构造器声明
  * `FIELD`域声明(包括enum实例)
  * `LOCAL_VARIABLE`局部变量声明
  * `METHOD`方法声明
  * `PACKAGE`包声明
  * `PARAMETER`参数声明
  * `TYPE` 类、接口、注解类型、enum类型

##### @Retention

* 表示需要在什么级别保存该注解信息。
  * `SOURCE`源码级别，注解将被编译器丢弃，只存在源码中，其功能是与编译器交互，用于代码检测，如@Override,@SuppressWarings，许多框架如Dragger就是使用这个级别的注解，这个级别的框架额外效率损耗发生在编译时。
  * `CLASS`字节码级别，注解存在源码与字节码文件中，主要用于编译时生成而外的文件，如XML，Java文件等，这个级别需要添加JVM加载时候的代理（javaagent），使用代理来动态修改字节码文件（由于Android虚拟机并不支持所以本专题不会再做介绍，在Android中可以使用aspectJ来实现类似这个级别的功能）。
  * `RUNTIME`运行时级别，注解存在源码，字节码与Java虚拟机中，主要用于运行时反射获取相关信息，许多框架如OrmLite就是使用这个级别的注解，这个级别的框架额外的效率损耗发生在程序运行时。

##### @Documented

*  被修饰的注解会生成到javadoc中

##### @Inherited

* 可以让注解类似被继承一样，但是这并不是真的继承。通过使用`@Inherited`，只可以让子类类对象使用`getAnnotations()`反射获取父类被`@Inherited`修饰的注解。



